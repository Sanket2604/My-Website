<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../../code.png" type="image/gif">
    <link rel="stylesheet"  href="SourceCodeStyle.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <title>Source Code</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <a class="navbar-brand" style="font-size: 30px;" href="../AboutMe.html" target="_blank">Sanket</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#Navbar"></button>       
        <div class="collapse navbar-collapse" id="Navbar">
          <ul class="navbar-nav mr-auto ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="../../../index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../../AboutMe/AboutMe.html">About Me</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="../../../ContactMe/Contactme.html">Contact Me</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../../Menu/Main_Menu/Menu.html">Projects</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../../Blog/blog.html">Blog</a>
            </li>
          </ul>
        </div>
    </nav>
    <div class="container-fluid cont2">
      <div class="row row-content row1">
        <div class="col-12">
          <p class="heading">Tic Tac Toe</p>
          <p class="content">I created a game of <a class="ab" href="tiktac.html" target="_blank">Tic Tac Toe</a>, aka X-O game, using HTML, CSS and JavaScript. The navbar and responsive layout is set by bootstrap. The grid layout of the play area is achieved by CSS grids concept and the logical operations ie, declaring wins and draw, is achieved by JavaScirpt.</p>
          <p class="heading">Source code</p>
          <p class="content" style="text-align: center; font-size: xxx-large; letter-spacing: 0.2em;"><b>HTML</b></p>
        </div>
      </div>
      <div class="row row-content">
        <div class="col-12 code1">
          <textarea readonly>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet"  href="tiktak.css">
    <script src="tiktak.js" defer></script>
    <title>Tic-Tac-Toe</title>

</head>
<body>
    <div class="board" id="board">
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
        <div class="cell" data-cell></div>
    </div>
    <div class="winning_message" id="winningMessage">
        <div data-winning-message-text></div>
        <button id="restartButton">Restart</button>
    </div>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>
          </textarea>
        </div>
      </div>
      
      <div class="row row-content row1">
        <div class="col-12">
          <p class="content" style=" text-align: center; font-size: xxx-large; letter-spacing: 0.2em;"><b>CSS</b></p>
        </div>      
      </div>
      <div class="row row-content">
        <div class="col-12 code1">
          <textarea readonly>
@import url('https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Allan&display=swap');

*, *::after, *::before{
    margin: 0px;
    padding: 0px; 
    box-sizing: border-box;
}
/* Variable used*/
:root{
    --cell-size: 100px;
    --mark-size: calc(var(--cell-size) * 0.9);
}
/* Body starts here */
.board{
    width: 100vw;
    height: 70vh;
    padding-top: 10vh;
    display: grid;
    justify-content: center;
    align-content: center;
    grid-template-columns: repeat(3,auto);
    justify-items: center;
    align-items: center;
}
.cell{
    width: var(--cell-size);
    height: var(--cell-size);
    border: 2px solid black;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    cursor: pointer;
}
.cell:first-child, .cell:nth-child(2), .cell:nth-child(3){
    border-top: none;
}
.cell:first-child, .cell:nth-child(4), .cell:nth-child(7){
    border-left: none;
}
.cell:nth-child(7), .cell:nth-child(8), .cell:nth-child(9){
    border-bottom: none;
}
.cell:nth-child(3), .cell:nth-child(6), .cell:nth-child(9){
    border-right: none;
}
.cell.x, .cell.circle{
    cursor: not-allowed;
}
.cell.x::after, .cell.x::before{
    background-color: rgb(0, 0, 148);
}

.cell.circle::before{
    background-color: rgb(196, 13, 13);
}

.board.x .cell:not(.x):not(.circle):hover::before,
.board.x .cell:not(.x):not(.circle):hover::after {
    background-color: rgba(0, 0, 148, 0.349);
}


.board.circle .cell:not(.x):not(.circle):hover::before{
    background-color: rgba(196, 13, 13, 0.349);
}
.cell.x::after, .cell.x::before, .board.x .cell:not(.x):not(.circle):hover::before, .board.x .cell:not(.x):not(.circle):hover::after{
    content: '';
    position: absolute;
    width: calc(var(--mark-size) * 0.15);
    height: var(--mark-size);
}

.cell.x::before, .board.x .cell:not(.x):not(.circle):hover::before{
    transform: rotate(45deg);
}
.cell.x::after, .board.x .cell:not(.x):not(.circle):hover::after{
    transform: rotate(-45deg);
}
.cell.circle::after, .cell.circle::before, .board.circle .cell:not(.x):not(.circle):hover::before,
.board.circle .cell:not(.x):not(.circle):hover::after{
    content: '';
    position: absolute;
    border-radius: 50%;
}

.cell.circle::before, .board.circle .cell:not(.x):not(.circle):hover::before{    
    width: var(--mark-size);
    height: var(--mark-size);
}
.cell.circle::after, .board.circle .cell:not(.x):not(.circle):hover::after{    
    width: calc(var(--mark-size) * 0.7);
    height: calc(var(--mark-size) * 0.7);
    background-color: white;
}

.winning_message{
    display: none;
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: rgb(30, 255, 0);
    font-size: 5rem;
    transition: ease-in-out;
    transition-duration: 1s;
}
.winning_message button{
    font-size: 3rem;
    background-color: rgb(19, 167, 0);
    padding: 0.25rem 0.5rem;
    border-radius: 10px;
    color: white;
    cursor: pointer;
    border: 1px solid rgb(19, 167, 0);
    transition: ease-in-out;
    transition-duration: 1s;
}

.winning_message button:hover{
    opacity: 1;
    background-color: rgba(255, 255, 255, 0);
    color: rgb(25, 216, 0);
    border: 1px solid rgba(0, 0, 0, 0);
}

.winning_message.show_x{
    display: flex;
    background-image: url(x_bac.png);
    background-repeat: no-repeat;
    background-size: cover;
}

.winning_message.show_o{
    display: flex;
    background-image: url(o_bac.png);
    background-repeat: no-repeat;
    background-size: cover;
}

.winning_message.show_d{
    display: flex;
    background-image: url(d_bac.png);
    background-repeat: no-repeat;
    background-size: cover;
}   
          </textarea>
        </div>
      </div>
      <div class="row row-content row1">
        <div class="col-12">
          <p class="content" style="text-align: center; font-size: xxx-large; letter-spacing: 0.2em;"><b>JavaScript</b></p>
        </div>
      </div>
      <div class="row row-content">
        <div class="col-12 code1">
          <textarea readonly>
const X_CLASS = 'x'
const CIRCLE_CLASS = 'circle'
const WINNING_COMBINATIONS = [
    [3, 4, 5],
    [6, 7, 8],
    [0, 1, 2],
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 4, 8],
    [2, 4, 6]
]
const cellElements = document.querySelectorAll('[data-cell]')
const board = document.getElementById('board')
const winningMessageElement = document.getElementById('winningMessage')
const restartButton = document.getElementById('restartButton')
const winningMessageTextElement = document.querySelector('[data-winning-message-text]')
let circleTurn

startGame()

restartButton.addEventListener('click', startGame)

function startGame() {

    circleTurn = false
    cellElements.forEach( cell => {
        cell.classList.remove(X_CLASS)
        cell.classList.remove(CIRCLE_CLASS)
        cell.removeEventListener('click',handleClick)
        cell.addEventListener('click', handleClick, {once: true})
    })
    setBoardHoverClass();
        winningMessageElement.classList.remove('show_o')
        winningMessageElement.classList.remove('show_x')    
        winningMessageElement.classList.remove('show_d') 
    
}

function handleClick(e){
    const cell  = e.target;
    const currentClass = circleTurn ? CIRCLE_CLASS : X_CLASS
    placeMark(cell,currentClass)
    if(checkWin(currentClass)){
        endGame(false)
    } else if (isDraw()){
        endGame(true)
    }
    else {
        swapTurn()
        setBoardHoverClass()
    }
    //placeMark
    //Check for Win
    //Check for Draw
    //Switch Turns    
}

function endGame(draw) {
    if(draw) {
        winningMessageTextElement.innerText = 'Draw!'
        winningMessageElement.classList.add('show_d');
    } else {
        if (circleTurn === true){
            winningMessageTextElement.innerText = `O wins!!!`
            winningMessageElement.classList.add('show_o');
        } else{
            winningMessageTextElement.innerText = `W wins!!!`
            winningMessageElement.classList.add('show_x');
        }
    }
}

function placeMark(cell, currentClass) {
    cell.classList.add(currentClass)    
}

function swapTurn() {
    circleTurn = !circleTurn;
}

function setBoardHoverClass() {
    board.classList.remove(X_CLASS)
    board.classList.remove(CIRCLE_CLASS)
    if(circleTurn) {
        board.classList.add(CIRCLE_CLASS)
    } else{
        board.classList.add(X_CLASS)
    }
}

function checkWin(currentClass) {
    return WINNING_COMBINATIONS.some(combinations => {
        return combinations.every(index => {
            return cellElements[index].classList.contains(currentClass)
        })
    })
}

function isDraw() {
    return [...cellElements].every( cell => {
        return cell.classList.contains(X_CLASS) || cell.classList.contains(CIRCLE_CLASS)
    })
}
          </textarea>
        </div>
      </div>




    </div>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>